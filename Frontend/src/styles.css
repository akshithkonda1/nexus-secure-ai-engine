:root { color-scheme: dark; }
html, body, #root { height: 100%; margin: 0; }
[data-theme="light"] { color-scheme: light; background: #fff; color: #111; }
[data-theme="dark"] { color-scheme: dark; background: #0b0d10; color: #e8e8e8; }

.topbar { display: flex; align-items: center; justify-content: space-between; padding: 10px 16px; border-bottom: 1px solid #333; position: sticky; top: 0; backdrop-filter: saturate(180%) blur(6px); }
.topbar .brand { font-weight: 700; text-decoration: none; color: inherit; }
.topbar nav a { margin: 0 8px; text-decoration: none; color: inherit; opacity: .8; }
.topbar nav a.active { opacity: 1; border-bottom: 2px solid currentColor; }
.icon-btn { background: transparent; border: 1px solid #444; padding: 6px 10px; border-radius: 8px; color: inherit; }

.container { max-width: 980px; margin: 0 auto; padding: 16px; }
.footer { text-align: center; padding: 12px; border-top: 1px solid #333; opacity: .7; }

.chat-wrap { display: flex; flex-direction: column; gap: 12px; }
.msgs { display: flex; flex-direction: column; gap: 12px; min-height: 50vh; }
.msg { display: flex; }
.msg.user { justify-content: flex-end; }
.msg.assistant { justify-content: flex-start; }
.bubble { max-width: 70%; padding: 12px 14px; border-radius: 14px; line-height: 1.5; background: #1a1f26; }
.msg.user .bubble { background: #2a6bf3; color: white; }
.composer { display: flex; gap: 8px; }
.composer textarea { flex: 1; resize: vertical; padding: 10px; border-radius: 10px; background: #11161b; color: inherit; border: 1px solid #2a2f35; }
.composer button { padding: 10px 14px; border-radius: 10px; border: 1px solid #2a2f35; background: #131820; color: inherit; }

.sources { margin-top: 8px; }
.sources summary { cursor: pointer; }
.snippet { opacity: .8; font-size: .9em; }

.modal-backdrop { position: fixed; inset: 0; background: rgba(0, 0, 0, .5); display: grid; place-items: center; }
.modal { background: #0f141a; border: 1px solid #2a2f35; border-radius: 12px; padding: 16px; width: min(480px, 92vw); }
.modal input, .modal select { width: 100%; padding: 8px; margin: 6px 0 12px; border-radius: 8px; border: 1px solid #2a2f35; background: #11161b; color: inherit; }
.modal .row { display: flex; gap: 8px; justify-content: flex-end; }
.modal .ghost { background: transparent; }
.fineprint { opacity: .7; font-size: .85em; margin-top: 8px; text-align: right; }

@import "tailwindcss";

@source "../../index.html";
@source "../**/*.{ts,tsx}";

/* ---------- TOKENS ---------- */
@layer base {
  :root {
    /* Light (alabaster) */
    --alabaster: 250 250 249;           /* #FAFAF9 */
    --bg: var(--alabaster);
    --surface: 255 255 255;
    --panel: 255 255 255;
    --text: 17 24 39;                   /* slate-900 */
    --border: 17 24 39 / 0.10;          /* faint */

    /* Brand blues */
    --brand: 30 64 175;                 /* #1E40AF */
    --brand-ice: 147 197 253;           /* #93C5FD */

    /* Elevation */
    --elev-1: 0 10px 30px rgba(30,64,175,.06);
    --elev-2: 0 18px 48px rgba(2,6,23,.12);
  }

  .dark {
    /* Deep navy dark */
    --bg: 9 14 26;
    --surface: 15 20 34;
    --panel: 18 24 42;
    --text: 241 245 249;
    --border: 241 245 249 / 0.08;

    --elev-1: 0 12px 32px rgba(0,0,0,.35);
    --elev-2: 0 20px 60px rgba(0,0,0,.55);
  }

  html, body, #root { height: 100%; }

  /* Kill any dot/grid backgrounds */
  .bg-grid, .page-grid, body.bg-grid { background: none !important; }

  /* Page background: alabaster + blue ambience */
  body {
    color: rgb(var(--text));
    background:
      radial-gradient(1000px 520px at 8% -10%, rgba(var(--brand) / .08), transparent 60%),
      radial-gradient(820px 420px at 92% 8%, rgba(var(--brand-ice) / .22), transparent 65%),
      linear-gradient(180deg, rgb(var(--alabaster)) 0%, #F6F8FF 100%);
    background-attachment: fixed;
  }

  /* Page background: dark */
  .dark body {
    background:
      radial-gradient(1000px 520px at -10% 0%, rgba(125 211 252 /.10), transparent 55%),
      linear-gradient(180deg, #0B111E 0%, #0E1524 60%, #0B0F1A 100%);
    background-attachment: fixed;
  }
}

/* Smooth theme switch */
:root.theme-transition * {
  transition: background-color .25s ease, color .25s ease, border-color .25s ease,
             box-shadow .25s ease, fill .25s ease, stroke .25s ease !important;
}

/* ---------- GLASSY UTILITIES (non-layout) ---------- */
@layer components {
  .panel {
    @apply relative rounded-2xl border backdrop-blur-xl;
    background: color-mix(in oklab, rgb(var(--panel)) 82%, transparent);
    border-color:
      color-mix(in oklab, rgb(var(--text)) 10%, color-mix(in oklab, rgb(var(--brand)) 14%, transparent));
    box-shadow: var(--elev-1);
  }
  .panel--glassy::after {
    content: "";
    position: absolute; inset: 0 0 auto 0; height: 38%;
    pointer-events: none; border-radius: inherit;
    background: linear-gradient(180deg, rgba(255 255 255 /.55), rgba(255 255 255 / 0) 70%);
  }
  .panel--hover { transition: transform .18s ease, box-shadow .18s ease; }
  .panel--hover:hover { transform: translateY(-2px); box-shadow: var(--elev-2); }

  .input {
    @apply h-11 rounded-xl px-3 text-sm outline-none border transition;
    border-color: color-mix(in oklab, rgb(var(--text)) 16%, transparent);
    background: color-mix(in oklab, rgb(var(--surface)) 88%, transparent);
  }
  .input:focus {
    box-shadow: 0 0 0 3px rgba(147 197 253 /.45);
    border-color: rgba(147 197 253 /.55);
  }

  .btn { @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold transition; }
  .btn-primary {
    color: white;
    background: linear-gradient(180deg,
      color-mix(in oklab, rgb(var(--brand)) 94%, white 8%),
      color-mix(in oklab, rgb(var(--brand)) 84%, black 4%));
    box-shadow: 0 8px 24px rgba(30 64 175 /.25);
  }
  .btn-primary:hover { filter: brightness(1.04); }

  .btn-ghost {
    @apply border;
    border-color: color-mix(in oklab, rgb(var(--text)) 14%, transparent);
    background: color-mix(in oklab, rgb(var(--surface)) 70%, transparent);
  }
}

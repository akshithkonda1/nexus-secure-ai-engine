@import "tailwindcss";

@source "../../index.html";
@source "../**/*.{ts,tsx}";

/* --------------------------------------------------------
   THEME TOKENS (class-based theming + proper color-scheme)
   -------------------------------------------------------- */
@layer base {
  :root {
    /* Light mode (Alabaster) */
    color-scheme: light;

    /* Neutrals */
    --bg: 249 250 252;           /* Alabaster-esque page */
    --surface: 255 255 255;      /* chrome */
    --panel: 246 248 252;        /* cards */
    --text: 17 24 39;            /* slate-900 */
    --subtle: 17 24 39 / 0.70;
    --border: 30 41 59 / 0.12;

    /* Brand + rings */
    --brand: 0 158 255;          /* #009EFF */
    --ring: 56 189 248;          /* sky-400 */

    /* Elevation */
    --elev-1: 0 12px 32px rgba(2, 6, 23, 0.06);
    --elev-2: 0 18px 48px rgba(2, 6, 23, 0.10);

    /* Page halo (light) */
    --page-grad-from: 255 255 255;
    --page-grad-via: 248 250 255;
    --page-grad-to: 245 249 255;
  }

  .dark {
    /* Cod Gray background family */
    color-scheme: dark;

    --bg: 9 11 30;            /* #090B1E (page) */
    --surface: 13 17 36;      /* #0D1124 (chrome) */
    --panel: 18 24 42;        /* #121A2A (cards) */

    /* Typography */
    --text: 255 255 255;      /* white text */
    --subtle: 203 213 225;    /* #CBD5E1 for muted copy */

    /* Lines / focus */
    --border: 255 255 255 / 0.12; /* soft white border */
    --ring: 0 153 255;            /* #0099FF focus ring */

    /* Brand blues (style guide) */
    --brand: 0 133 255;       /* #0085FF primary */
    --brand-2: 0 158 255;     /* #009EFF hover/alt */

    /* Elevations */
    --elev-1: 0 12px 28px rgba(0, 0, 0, 0.45);
    --elev-2: 0 20px 60px rgba(0, 0, 0, 0.60);

    /* Optional page gradient for depth */
    --page-grad-from: 9 11 30;
    --page-grad-via: 11 14 32;
    --page-grad-to: 13 17 36;
  }

  html, body, #root { height: 100%; }

  body {
    color: rgb(var(--text));
    background:
      radial-gradient(1200px 600px at 10% -10%, rgba(var(--brand),0.05), transparent 60%),
      linear-gradient(
        180deg,
        rgb(var(--page-grad-from)) 0%,
        rgb(var(--page-grad-via)) 30%,
        rgb(var(--page-grad-to)) 100%
      );
    background-attachment: fixed;
  }

  ::selection {
    background: rgba(var(--brand), 0.18);
  }
}

/* Smooth theme switch */
:root.theme-transition * {
  transition:
    background-color .25s ease,
    color .25s ease,
    border-color .25s ease,
    box-shadow .25s ease,
    fill .25s ease,
    stroke .25s ease !important;
}

/* Presentation utilities (no layout change) */
@layer components {
  .btn { @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold transition; }

  .btn-primary {
    color: white;
    background: linear-gradient(180deg,
      color-mix(in oklab, rgb(var(--brand)) 96%, white 6%),
      color-mix(in oklab, rgb(var(--brand)) 86%, black 6%));
    box-shadow: 0 8px 24px color-mix(in oklab, rgb(var(--brand)) 30%, transparent);
  }
  .btn-primary:hover  { filter: brightness(1.06); }
  .btn-primary:active { transform: translateY(1px); filter: brightness(0.98); }

  .btn-ghost {
    @apply border;
    border-color: color-mix(in oklab, rgb(var(--text)) 14%, transparent);
    background: color-mix(in oklab, rgb(var(--surface)) 70%, transparent);
    color: rgb(var(--text));
  }

  .panel {
    @apply rounded-2xl border backdrop-blur-xl;
    background-color: color-mix(in oklab, rgb(var(--panel)) 92%, transparent);
    border-color: color-mix(in oklab, rgb(var(--text)) 12%, transparent);
    box-shadow: var(--elev-1);
  }
  .panel--hover { transition: transform .18s ease, box-shadow .18s ease; }
  .panel--hover:hover { transform: translateY(-2px); box-shadow: var(--elev-2); }

  .input {
    @apply h-11 rounded-xl px-3 text-sm outline-none border transition;
    border-color: color-mix(in oklab, rgb(var(--text)) 16%, transparent);
    background: color-mix(in oklab, rgb(var(--surface)) 88%, transparent);
  }
  .input:focus {
    box-shadow: 0 0 0 3px color-mix(in oklab, rgb(var(--ring)) 45%, transparent);
    border-color: color-mix(in oklab, rgb(var(--ring)) 50%, transparent);
  }
}

@import "tailwindcss";

@source "../../index.html";
@source "../**/*.{ts,tsx}";

/* --------------------------------------------------------
   THEME TOKENS (class-based theming + proper color-scheme)
   -------------------------------------------------------- */
@layer base {
  :root {
    /* Light mode (Alabaster) */
    color-scheme: light;

    /* Neutrals */
    --bg: 249 250 252;           /* Alabaster-esque page */
    --surface: 255 255 255;      /* chrome */
    --panel: 246 248 252;        /* cards */
    --text: 17 24 39;            /* slate-900 */
    --subtle: 17 24 39 / 0.70;
    --border: 30 41 59 / 0.12;

    /* Brand + rings */
    --brand: 0 158 255;          /* #009EFF */
    --ring: 56 189 248;          /* sky-400 */

    /* Elevation */
    --elev-1: 0 12px 32px rgba(2, 6, 23, 0.06);
    --elev-2: 0 18px 48px rgba(2, 6, 23, 0.10);

    /* Page halo (light) */
    --page-grad-from: 255 255 255;
    --page-grad-via: 248 250 255;
    --page-grad-to: 245 249 255;
  }

  .dark {
    /* Dark mode (navy, not pure black) */
    color-scheme: dark;

    --bg: 9 14 26;               /* deep navy */
    --surface: 15 20 34;
    --panel: 18 24 42;
    --text: 241 245 249;         /* slate-100 */
    --subtle: 241 245 249 / 0.65;
    --border: 241 245 249 / 0.08;

    --brand: 0 158 255;          /* same brand */
    --ring: 125 211 252;         /* sky-300 */

    --elev-1: 0 10px 30px rgba(0, 0, 0, 0.35);
    --elev-2: 0 20px 60px rgba(0, 0, 0, 0.55);

    /* Page halo (dark) */
    --page-grad-from: 8 12 24;
    --page-grad-via: 10 15 28;
    --page-grad-to: 14 20 36;
  }

  html, body, #root { height: 100%; }

  body {
    color: rgb(var(--text));
    background:
      radial-gradient(1200px 600px at 10% -10%, rgba(var(--brand),0.06), transparent 60%),
      linear-gradient(
        180deg,
        rgb(var(--page-grad-from)) 0%,
        rgb(var(--page-grad-via)) 30%,
        rgb(var(--page-grad-to)) 100%
      );
    background-attachment: fixed;
  }

  ::selection {
    background: rgba(var(--brand), 0.18);
  }
}

/* Smooth theme switch */
:root.theme-transition * {
  transition:
    background-color .25s ease,
    color .25s ease,
    border-color .25s ease,
    box-shadow .25s ease,
    fill .25s ease,
    stroke .25s ease !important;
}

/* Presentation utilities (no layout change) */
@layer components {
  .panel {
    @apply rounded-2xl border backdrop-blur-xl;
    background-color: color-mix(in oklab, rgb(var(--panel)) 92%, transparent);
    border-color: color-mix(in oklab, rgb(var(--text)) 12%, transparent);
    box-shadow: var(--elev-1);
  }
  .panel--hover { transition: transform .18s ease, box-shadow .18s ease; }
  .panel--hover:hover { transform: translateY(-2px); box-shadow: var(--elev-2); }

  .input {
    @apply h-11 rounded-xl px-3 text-sm outline-none border transition;
    border-color: color-mix(in oklab, rgb(var(--text)) 16%, transparent);
    background: color-mix(in oklab, rgb(var(--surface)) 88%, transparent);
  }
  .input:focus {
    box-shadow: 0 0 0 3px color-mix(in oklab, rgb(var(--ring)) 45%, transparent);
    border-color: color-mix(in oklab, rgb(var(--ring)) 50%, transparent);
  }
}

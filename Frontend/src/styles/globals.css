@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Base reset ---------- */
@layer base {
  :root {
    color-scheme: dark;
    --background: #0e1117;
    --surface: #161b22;
    --card: #1f2733;
    --border: #2b3441;
    --muted: #94a3b8;
    --accent: #2563eb;
    --accent-foreground: #f8fafc;
    --foreground: #f1f5f9;
    --nexus-bg: var(--background);
    --nexus-surface: var(--surface);
    --nexus-card: var(--card);
    --nexus-border: var(--border);
    --nexus-text: var(--foreground);
    --header: rgba(22, 27, 34, 0.92);
    --sidebar: rgba(13, 17, 23, 0.92);
    --input: rgba(31, 39, 51, 0.92);
    --shadow-soft: 0 18px 45px rgba(2, 6, 23, 0.4);
    --shadow-glow: 0 0 0 1px rgba(37, 99, 235, 0.4);
  }

  html.light {
    color-scheme: light;
    --background: #f5f7fb;
    --surface: rgba(255, 255, 255, 0.88);
    --card: rgba(255, 255, 255, 0.92);
    --border: rgba(15, 23, 42, 0.08);
    --muted: #64748b;
    --accent: #2563eb;
    --accent-foreground: #f8fafc;
    --foreground: #0f172a;
    --nexus-bg: var(--background);
    --nexus-surface: var(--surface);
    --nexus-card: var(--card);
    --nexus-border: var(--border);
    --nexus-text: var(--foreground);
    --header: rgba(248, 250, 252, 0.92);
    --sidebar: rgba(248, 250, 252, 0.9);
    --input: rgba(248, 250, 252, 0.95);
    --shadow-soft: 0 14px 32px rgba(15, 23, 42, 0.14);
    --shadow-glow: 0 0 0 1px rgba(37, 99, 235, 0.18);
  }

  html {
    color-scheme: dark light;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  body {
    @apply font-sans transition-colors duration-300;
    background: var(--bg);
    color: rgb(var(--text) / 1);
  }
  * { transition: background-color .2s ease, color .2s ease, border-color .2s ease, box-shadow .2s ease; }
}

/* ---------- Theme tokens via CSS variables ---------- */
/* Dark (default) — Script “Cod Gray” base, soft panels, premium contrast */
:root,
html.dark {
  --bg: #090B1E;
  --surface: 16 21 33;      /* ~#101525 */
  --panel: 22 28 42;        /* ~#161C2A */
  --border: 55 65 81;       /* slate-600 */
  --text: 230 236 244;      /* ~#E6ECF4 */
  --subtle: 156 163 175;    /* slate-400 */

  --brand: #0085FF;
  --brand-alt: #009EFF;
  --brand-purple: #9360FF;
  --lilac: #C5B9DA;
}

/* Light — Script “Alabaster” base, crisp borders */
html.light {
  --bg: #F9FAFC;
  --surface: 255 255 255;    /* white */
  --panel: 246 248 252;      /* very light panel */
  --border: 229 231 235;     /* gray-200 */
  --text: 17 24 39;          /* gray-900 */
  --subtle: 100 116 139;     /* slate-500 */
}

/* ---------- Primitives ---------- */
.app-shell { @apply min-h-screen bg-[var(--bg)] text-text; }

.header {
  @apply sticky top-0 z-40 border-b border-border/30 backdrop-blur-md;
  background: color-mix(in oklab, rgb(var(--surface)), transparent 15%);
}

.aside {
  @apply border-r border-border/20;
  background:
    radial-gradient(1200px 600px at -20% -20%, rgba(0,133,255,0.12), transparent 60%),
    radial-gradient(1000px 500px at 130% 10%, rgba(147,96,255,0.10), transparent 55%),
    color-mix(in oklab, rgb(var(--surface)), transparent 4%);
}

.card {
  @apply rounded-2xl border border-border/20 shadow-card;
  background:
    linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0) 60%),
    color-mix(in oklab, rgb(var(--panel)), transparent 0%);
}

.btn {
  @apply inline-flex items-center justify-center rounded-xl px-4 py-2 font-medium border border-transparent;
  background: linear-gradient(135deg, var(--brand) 0%, var(--brand-alt) 35%, var(--brand-purple) 100%);
  color: white;
  box-shadow: 0 6px 18px rgba(0,133,255,0.28);
}
.btn:hover { box-shadow: 0 10px 26px rgba(0,133,255,0.38); transform: translateY(-1px); }
.btn.ghost {
  @apply border border-border/40 text-text;
  background: color-mix(in oklab, rgb(var(--panel)), transparent 10%);
}
.input {
  @apply w-full rounded-xl px-3 py-2 text-sm border outline-none;
  @apply border-border/30 bg-[rgb(var(--panel))] text-text;
}
.input:focus { @apply border-brand/50 ring-2 ring-brand/20; }

.badge {
  @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium;
  background: color-mix(in oklab, rgb(var(--panel)), transparent 10%);
  border: 1px solid rgba(255,255,255,0.06);
  color: rgb(var(--subtle));
}

/* Utility */
.gradient-brand {
  background: radial-gradient(120% 120% at 0% 0%, var(--brand) 0%, var(--brand-alt) 40%, var(--brand-purple) 100%);
}
